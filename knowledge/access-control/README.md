# access-control权限控制

权限控制的流程：

1. 未登录的情况跳转登录页面

2. 用户登录获取token及权限可访问菜单

3. 在浏览器地址栏输入访问地址时比较可展示菜单和用户可访问菜单，满足条件则跳转

4. 菜单栏比较可展示菜单和用户可访问菜单显示符合条件的菜单

目录结构：

```js
├── router                        
│   ├── modules                  # 划分路由
│   │   ├── page.js              # page菜单下所有路由配置           
│   │   └── setting.js           # setting菜单下所有路由配置
│   └── index.js                 # 路由主路径
├── utils
    └── menulist.js              # 所有可展示菜单
```

所谓的asyncRoutes其实并不是从后台返回的，它包含了所有我们定义的路由，真正的控制其实是在用户信息的permissions中实现的，为什么是这么做的呢，因为大多数时候后台保存的权限表并不是完整的路由信息，他可能只包含了路由的name或是path，为了达到真实的控制，我们只需要将asyncRoutes和他比较就可以了。
